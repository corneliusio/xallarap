var xallarap=function(){"use strict";class t{constructor(){this.compensate=!1,this.include=innerHeight,this.hack=!window.CSS||!CSS.supports||!CSS.supports("will-change","transform"),this.reduceMotion=window.matchMedia&&matchMedia("(prefers-reduced-motion)").matches}static settings(t,s){var i=t=>document.querySelectorAll(t);switch(typeof t.el){case"string":t.el=i(t.el);break;case"object":t.el=t.el;break;default:t.el=i(s)}return NodeList.prototype.isPrototypeOf(t.el)&&(t.el=Array.from(t.el)),Array.isArray(t.el)||(t.el=[t.el]),t}animate(){this.monitor(),this.hasChanged()&&this.isVisible()&&(this.unchange(),this.measure(),this.update()),requestAnimationFrame(()=>{this.animate()})}hasChanged(){return this.wtop!==this.pwtop||this.wheight!==this.pwheight||this.top>this.ptop+1||this.top<this.ptop-1||this.height>this.pheight+1||this.height<this.pheight-1}unchange(){this.pwtop=this.wtop,this.pwheight=this.wheight,this.ptop=this.top,this.pheight=this.height}monitor(){this.wtop=pageYOffset,this.wheight=innerHeight,this.wbottom=this.wtop+this.wheight,this.top=this.el.getBoundingClientRect().top+this.wtop,this.height=this.el.offsetHeight,this.bottom=this.top+this.height,this.middle=this.top+this.height/2}measure(){var t=this.compensate?this.wtop/this.wheight:(this.wtop+this.wheight/2-this.origin())/(this.height+this.wheight);this.margin=this.boundary<0?Math.abs(this.boundary):Math.round(this.boundary*(1-this.height/this.wheight)),this.margin+=50,this.parallax=parseFloat((this.boundary*t).toFixed(1)),this.css.setProperty&&this.css.setProperty("--parallax-control",parseFloat(t).toFixed(4))}isVisible(){return this.bottom+this.include>this.wtop&&this.top-this.include<this.wbottom}}class s extends t{constructor(t,s){super(),this.el=t,this.init(s)}init(t){this.reduceMotion||(this.compensate=!(""!==this.el.dataset.parallaxCompensate&&!t.compensate),this.boundary=isNaN(parseInt(this.el.dataset.parallaxAmount))?t.amount||300:parseInt(this.el.dataset.parallaxAmount),this.boundary&&(this.css=this.el.style,this.css.display="inline-block",this.css.transition="initial",this.css.willChange="transform",this.css.transform=this.hack?"translate3d(0,0,0)":"translateY(0)",this.animate()))}origin(){return this.middle-(this.parallax||0)}update(){this.parallax!==this.pparallax&&(this.pparallax=this.parallax,this.hack?this.css.transform=`translate3d(0,${this.parallax}px,0)`:this.css.transform=`translateY(${this.parallax}px)`)}}var i=[],a=function(t,s){for(var a=(t=>{var s=t.toString(),i=s.length,a=0;if(0===i)return a;for(var e=0;e<i;e++)a=(a<<5)-a+s.charCodeAt(e),a|=0;return Math.abs(a).toString()})(t),e=function(){for(var e=arguments.length,h=new Array(e),r=0;r<e;r++)h[r]=arguments[r];clearTimeout(i[a]),i[a]=setTimeout(()=>(function(){clearTimeout(i[a]),delete i[a],t(...arguments)})(...h),s)},h=arguments.length,r=new Array(h>2?h-2:0),n=2;n<h;n++)r[n-2]=arguments[n];if(1===r.length&&"prepare"===r[0])return e;e(...r)};class e extends t{constructor(t,s){super(),this.wrap=t,this.init(s)}init(t){var s=this.wrap.dataset.parallaxBackground||this.wrap.dataset.parallaxBg,i=getComputedStyle(this.wrap).backgroundImage.replace(/url\("?([^)"]+)"?\)/,"$1");this.reduceMotion?"none"===i&&(this.wrap.style.backgroundImage=`url(${s})`):(this.boundary=isNaN(parseInt(this.wrap.dataset.parallaxAmount))?t.amount||Math.round(innerHeight/2):parseInt(this.wrap.dataset.parallaxAmount),this.boundary&&(this.el=document.createElement("div"),this.img=document.createElement("img"),this.img.src=s||t.image||i,this.css=this.el.style,this.css.backgroundImage=`url(${this.img.src})`,this.css.position=this.img.style.position="absolute",this.css.top=this.css.left=this.css.right=this.css.bottom=0,this.css.zIndex=-1,this.css.backgroundSize="cover",this.css.backgroundPosition="center center",this.css.transition="initial",this.css.willChange="transform",this.css.transform=this.hack?"translate3d(0,0,0)":"translateY(0)",this.wrap.style.position="relative",this.wrap.style.zIndex=2,this.wrap.style.overflow="hidden",this.wrap.appendChild(this.el),this.img.addEventListener("load",()=>{this.img=null,this.measure(),this.update()}),window.addEventListener("resize",()=>{a(()=>{this.measure(),this.update()},256)}),this.animate()))}origin(){return this.middle}update(){if(this.margin!==this.pmargin){var t=parseInt(this.css.minHeight),s=this.wrap.offsetHeight+this.margin;(isNaN(t)||Math.abs(t-s)>5)&&(this.css.minHeight=`${s}px`),this.pmargin=this.margin}if(this.parallax!==this.pparallax){var i=parseFloat((this.parallax-this.margin/2).toFixed(1));this.pparallax=this.parallax,this.hack?this.css.transform=`translate3d(0,${i}px,0)`:this.css.transform=`translateY(${i}px)`}}}return function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};!function(){for(var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.settings(i,"[data-parallax]"),e=0;e<a.el.length;++e)new s(a.el[e],a)}(i.foreground),function(){for(var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.settings(s,"[data-parallax-background],[data-parallax-bg]"),a=0;a<i.el.length;++a)new e(i.el[a],i)}(i.background)}}();
//# sourceMappingURL=xallarap.min.js.map
